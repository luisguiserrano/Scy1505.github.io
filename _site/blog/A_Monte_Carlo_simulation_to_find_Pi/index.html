<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>A Monte-Carlo simulation to find Pi</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/img/favicon.ico" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="Felipe's Place" href="http://scy1505.github.io/feed.xml" />
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <!--[if IE 8]><link rel="stylesheet" href="/assets/css/ie.css"><![endif]-->
    <link rel="canonical" href="http://scy1505.github.io/blog/A_Monte_Carlo_simulation_to_find_Pi/">

    <!-- Modernizr -->
    <script src="/assets/js/modernizr.custom.15390.js" type="text/javascript"></script>

     <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58263416-1', 'auto');
ga('send', 'pageview');

</script>
 
</head>


<body>

	 <div class="header">
     <div class="container">
         <h1 class="logo"><a href="/"> <font color="#5B0000">Felipe's Place</font></a></h1>
         <nav class="nav-collapse">
             <ul class="noList">
                 
                 <li class="element first  ">
                     <a href="/index.html">Home</a>
                 </li> 
                 
                 <li class="element   ">
                     <a href="/about">About</a>
                 </li> 
                 
                 <li class="element   ">
                     <a href="/contact">Contact</a>
                 </li> 
                 
                 <li class="element   ">
                     <a href="/research">Research</a>
                 </li> 
                 
                 <li class="element   last">
                     <a href="/articles">Posts</a>
                 </li> 
                 
                 <!--<li>
                     <a href="/articles">Posts</a>
                 </li>-->
                 <li> <a href="https://github.com/scy1505" target="_blank">GitHub</a></li>
                 <!-- <li><a href="https://github.com/brianmaierjr/long-haul/archive/master.zip">Download Theme</a></li> -->
             </ul>
         </nav>
     </div>
 </div><!-- end .header -->


   	<div class="content">

   		
		 <div class="container">
        	 <div class="post">
  
  <h1 class="postTitle">A Monte-Carlo simulation to find Pi</h1>
  <p class="meta">February 14, 2017 | <span class="time">18</span> Minute Read</p>
  
  <p>In this post, we explain what a Monte-Carlo simulation is and use the idea to approximate the value of <script type="math/tex">\pi</script>. This notes are intended for MATH 4991.</p>

<h1 id="the-monte-carlo-simulation">The Monte-Carlo Simulation</h1>

<p>Before getting into the simulations, let’s recall some basic definitions:</p>

<ul>
  <li>The <em>probability of an event <script type="math/tex">A</script></em> is understood as either the degree of believe that the event <script type="math/tex">A</script> will happen, or as the ratio of times that event will happen against all events. We denote this by <script type="math/tex">p(A)</script>.</li>
</ul>

<p><strong>Example:</strong> The proability of getting 3 from a dice is 1/6.</p>

<p>In simple terms, a Monte-Carlo Simulation is a technique takes advantage of the second interpretation of probability. It is use to  assest risk of an event given a probabilistic distribution.</p>

<p>Let’s be more precise. Suppose that we want to understand the likeness for an event <script type="math/tex">A</script> to take place if we know that an event <script type="math/tex">B</script> has already happened. This is denoted by <script type="math/tex">p(A\mid_B)</script>, by the second definition we just need to let event <script type="math/tex">A</script> to happen many times and count how many of those times we obtained the event <script type="math/tex">B</script>, that is</p>

<script type="math/tex; mode=display">P(A\mid_B)=\lim_{\text{repetitions}\to \infty} \frac{\text{number of times A happens}}{ \text{number of repetitions of event B}}.</script>

<p>That is for computing the probability of getting <script type="math/tex">3</script> from a dice, we just throw the dice many times and count how many of those  we got <script type="math/tex">3</script>. You can try this yourself and convince after 6000 times  about 1000 of those times you got a 3. <strong>Wait!</strong> Who has the time to throw a dice 6000 times? Luckily, computers can simulate the throw of a dice fairly easy.</p>

<h2 id="the-random-package">The random package</h2>

<p>Most languages come with a package that creates random numbers, in Python we use the package random. We import it with the following line.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">import</span> <span class="n">random</span></code></pre></figure>

<p>For our purposes we need 2 methods from this package. The method random(), and the method randint(). You can find the documentation <a href="https://docs.python.org/2/library/random.html">here</a>.</p>

<p>random.random() gives a random real number between 0 and 1.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>0.6763334359339186
</code></pre>
</div>

<p>and random.randint(a,b) gives a random integer between a and b, both included.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>7
</code></pre>
</div>

<p>So the throw of dice can be modeled by random.randint(1,6). Let’s throw the dice 3 times.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>3
</code></pre>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>2
</code></pre>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>3
</code></pre>
</div>

<p>We can use the for loop to throw the dice as many times as we want. So let’s throw it 6000 times and count how many times we get 3.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># We haven't throw the dice so we got not 3 yet</span>
<span class="n">got_three</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span><span class="p">(</span><span class="mi">6000</span><span class="p">):</span>
    
    <span class="n">dice_gives</span><span class="o">=</span><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    
    <span class="c1">#If the dice gives a 3 then added to the count</span>
    <span class="k">if</span> <span class="n">dice_gives</span><span class="o">==</span><span class="mi">3</span><span class="p">:</span>
        <span class="n">got_three</span><span class="o">=</span><span class="n">got_three</span><span class="o">+</span><span class="mi">1</span>
        
<span class="c1">#Finally, we compute the ratio</span>
<span class="n">probability</span><span class="o">=</span><span class="n">got_three</span><span class="o">/</span><span class="mi">6000</span>

<span class="c1">#And print the number of 3 and the probability</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The number of 3's is "</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">got_three</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Which gives a probability of "</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">probability</span><span class="p">))</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>The number of 3's is 978
Which gives a probability of 0.163
</code></pre>
</div>

<h2 id="the-value-of-pi">The value of <script type="math/tex">\pi</script></h2>

<p>Consider the following problem. You randomly throw darts to a 2x2 board. Inside the board, there is a circle of radius 1.</p>

<center>
<img src="/assets/img/A_Monte_Carlo_simulation_to_find_Pi_files/circle2.png" alt="" /> 
</center>

<p>The question is then, what is the probability of hitting the circle?</p>

<p><strong>The math solution:</strong> Let <script type="math/tex">A</script> be the event of the dart hitting inside the circle, then</p>

<script type="math/tex; mode=display">p(A)=\frac{\text{Area circle}}{\text{Area square}}=\frac{\pi}{4}</script>

<p>** The modeling solution: ** We just throw many darts! We randomly select points <script type="math/tex">p=(x,y)</script> with <script type="math/tex">0\leq x,y \leq 2</script>. Note that if the distance of <script type="math/tex">p</script> to the point <script type="math/tex">(1,1)</script> is less than 1, then the point <script type="math/tex">p</script> is inside the circle. That is we need to check if</p>

<script type="math/tex; mode=display">% <![CDATA[
(x-1)^2+(y-1)^2<1 %]]></script>

<p>to know if <script type="math/tex">p</script> is inside the circle.</p>

<p>We present five different ways to do this.</p>

<h3 id="version-1">Version 1</h3>

<p>This is, probably, the most basic approach.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#Import the random method from the random library.</span>
<span class="n">from</span> <span class="n">random</span> <span class="n">import</span> <span class="n">random</span>


<span class="c1">#Initialize the counter for the darts.</span>
<span class="n">inside</span><span class="o">=</span><span class="mi">0</span>

<span class="c1">#Throw 300 darts</span>
<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span><span class="p">(</span><span class="mi">300</span><span class="p">):</span>
    
    <span class="c1"># Create the dart, remember random() gives a number between 0 and 1, </span>
    <span class="c1"># so 2*random() gives a random number between 0 and 2.</span>
    <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">random</span><span class="p">()</span>
    <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">random</span><span class="p">()</span>
    
    <span class="c1">#Check if the dart is inside the circle, if so increase the counter by 1.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">inside</span><span class="o">=</span><span class="n">inside</span><span class="o">+</span><span class="mi">1</span>
            
<span class="c1">#divides</span>
<span class="n">probability</span><span class="o">=</span><span class="n">inside</span><span class="o">/</span><span class="mi">300</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The probaility we get is "</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">probability</span><span class="p">))</span>

<span class="c1">#Note that 4 times the probability should be pi, let's check this.</span>
<span class="n">pi_approx</span><span class="o">=</span><span class="mi">4</span><span class="o">*</span><span class="n">probability</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"An approximation for Pi is "</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">pi_approx</span><span class="p">))</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>The probaility we get is 0.7566666666666667
An approximation for pi is 3.026666666666667
</code></pre>
</div>

<p><strong>Pros:</strong></p>

<ul>
  <li>Simple model.</li>
  <li>Well documented.</li>
</ul>

<p><strong>Cons:</strong></p>

<ul>
  <li>If want to throw more darts we need to change two lines of code.</li>
  <li>We need to tune by hand if we want a good approximation.</li>
  <li>No graphical description.</li>
</ul>

<h3 id="version-2">Version 2</h3>

<p>This is a show off version. This is called a one-liner.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">import</span> <span class="n">random</span> <span class="n">as</span> <span class="n">rd</span>
<span class="n">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span><span class="p">(</span><span class="mi">3000</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">rd</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">rd</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">3000</span><span class="o">*</span><span class="mi">4</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>3.1373333333333333
</code></pre>
</div>

<p><strong>Pros:</strong></p>

<ul>
  <li>Clever.</li>
  <li>Compact.</li>
</ul>

<p><strong>Cons:</strong></p>

<ul>
  <li>If want to throw more darts we need to change the code in two places.</li>
  <li>No documentation, it doesn’t tell if it is approximating Pi or finding the probability.</li>
  <li>Can not be tune to get preccision.</li>
  <li>No graphical description.</li>
</ul>

<h3 id="version-3">Version 3</h3>

<p>This model is more organized, it keeps the information so it can be analized later if needed and creates a graph.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">import</span> <span class="n">random</span> <span class="n">as</span> <span class="n">rd</span>
<span class="n">from</span> <span class="n">matplotlib</span> <span class="n">import</span> <span class="n">pyplot</span> <span class="n">as</span> <span class="n">plt</span>

<span class="c1"># Create placeholders to keep the coordinates of the points inside and outside of the circle.</span>
<span class="n">x_coord_in</span><span class="o">=</span><span class="p">[]</span>
<span class="n">y_coord_in</span><span class="o">=</span><span class="p">[]</span>
<span class="n">x_coord_out</span><span class="o">=</span><span class="p">[]</span>
<span class="n">y_coord_out</span><span class="o">=</span><span class="p">[]</span>


<span class="c1"># Iterate over number of throws, 100 in this case.</span>
<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    
    <span class="c1"># Create the dart, remember random() gives a number between 0 and 1, </span>
    <span class="c1"># so 2*random() gives a random number between 0 and 2.</span>
    <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">rd</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span>
    <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">rd</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span>
    
    <span class="c1"># Check if the dart is inside the circle.</span>
    <span class="c1"># If so adds its coordinates to the lists x_coord_in y_coord_in.</span>
    <span class="c1"># If NOT adds its coordinates to the lists x_coord_out y_coord_out.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">x_coord_in</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">y_coord_in</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="ss">else:
        </span><span class="n">x_coord_out</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">y_coord_out</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

        
<span class="c1"># Compute the probability</span>
<span class="n">probability</span> <span class="o">=</span> <span class="n">len</span><span class="p">(</span><span class="n">x_coord_in</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span>


<span class="c1"># Compute the approximation of pi</span>
<span class="n">pi_approx</span><span class="o">=</span><span class="mi">4</span><span class="o">*</span><span class="n">probability</span>


<span class="c1"># The following code makes plot ----------------------------------------</span>

<span class="c1"># Creates a canvas to draw.</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Add the points that hit the circle to the canvas and marks them with x. </span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_coord_in</span><span class="p">,</span> <span class="n">y_coord_in</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">)</span>

<span class="c1"># Add the points that hit the circle to the canvas and marks them with point.</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_coord_out</span><span class="p">,</span> <span class="n">y_coord_out</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">)</span>

<span class="c1"># Create a circle of radius 1 and center (1,1) to the canvas, paints it red.</span>
<span class="n">circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="no">Circle</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'r'</span><span class="p">)</span>

<span class="c1"># Add the circle to the canvas</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">gca</span><span class="p">().</span><span class="nf">add_artist</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>

<span class="c1"># Add a tittle </span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="s1">'100 tries'</span><span class="p">)</span>

<span class="c1"># Plot the axis</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="c1"># Show the canvas</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>

<span class="c1"># End of plot ---------------------------------------------------------</span>


<span class="c1"># display the probabily</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The probaility we get is "</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">probability</span><span class="p">))</span>


<span class="c1"># Display the approximation of pi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"An approximation for Pi is "</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">pi_approx</span><span class="p">))</span></code></pre></figure>

<center>
<img src="/assets/img/A_Monte_Carlo_simulation_to_find_Pi_files/A_Monte_Carlo_simulation_to_find_Pi_30_0.png" alt="" /> 
</center>

<div class="highlighter-rouge"><pre class="highlight"><code>The probaility we get is 0.76
An approximation for Pi is 3.04
</code></pre>
</div>

<p><strong>Pros:</strong></p>

<ul>
  <li>Clear documentation.</li>
  <li>Graphical description.</li>
</ul>

<p><strong>Cons:</strong></p>

<ul>
  <li>If want to throw more darts we need to change the code in several places.</li>
  <li>Can not be tune to get preccision.</li>
  <li>Maybe too verbose?</li>
</ul>

<h3 id="version-4">Version 4</h3>

<p>One way to deal with the cons we had found before is to make the model a function.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">probability</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">display_graph</span><span class="o">=</span><span class="no">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="no">True</span><span class="p">):</span>
    <span class="s1">''' Aproximates the probability of hitting the circle using the Monte-Carlo method
    args:
        iteration (int): Number of iterations.
        display_graph (bol): Boolean determing if showing graph.
        verbose (bol): Boolean determing if showing the info.
    returns: 
        the probability (float)
    '''</span>
    
    <span class="n">import</span> <span class="n">random</span> <span class="n">as</span> <span class="n">rd</span>
    <span class="n">from</span> <span class="n">matplotlib</span> <span class="n">import</span> <span class="n">pyplot</span> <span class="n">as</span> <span class="n">plt</span>
    
    <span class="c1"># Create placeholders to keep the coordinates of the points inside and outside of the circle.</span>
    <span class="n">x_coord_in</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">y_coord_in</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">x_coord_out</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">y_coord_out</span><span class="o">=</span><span class="p">[]</span>
    
    
    <span class="c1"># Iterate over iteration number of throws.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
        
        <span class="c1"># Create the dart.</span>
        <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">rd</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span>
        <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">rd</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span>
        
        <span class="c1"># Check if the dart is inside the circle.</span>
        <span class="c1"># If so adds its coordinates to the lists x_coord_in y_coord_in.</span>
        <span class="c1"># If NOT adds its coordinates to the lists x_coord_out y_coord_out.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">x_coord_in</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="n">y_coord_in</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="ss">else:
            </span><span class="n">x_coord_out</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="n">y_coord_out</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="c1">#Compute the probability</span>
    <span class="n">probability</span> <span class="o">=</span> <span class="n">len</span><span class="p">(</span><span class="n">x_coord_in</span><span class="p">)</span><span class="o">/</span><span class="n">iterations</span>
    
    <span class="k">if</span> <span class="ss">display_graph:
        
        </span><span class="c1"># make plot    </span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_coord_in</span><span class="p">,</span> <span class="n">y_coord_in</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">)</span>
        <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_coord_out</span><span class="p">,</span> <span class="n">y_coord_out</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">)</span>
        <span class="n">circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="no">Circle</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'r'</span><span class="p">)</span>
        <span class="n">plt</span><span class="p">.</span><span class="nf">gca</span><span class="p">().</span><span class="nf">add_artist</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>
        <span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="s1">'%d iterations'</span><span class="o">%</span><span class="n">iterations</span><span class="p">)</span>
        <span class="n">plt</span><span class="p">.</span><span class="nf">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
        <span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
        
    <span class="c1">#display the probability</span>
    <span class="k">if</span> <span class="ss">verbose:
        </span><span class="nb">print</span><span class="p">(</span><span class="s2">"The probability of hitting the circle with %d iterations is %.3f "</span><span class="o">%</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">probability</span><span class="p">))</span>
    
    <span class="c1">#return the value</span>
    <span class="k">return</span> <span class="n">probability</span>

<span class="k">def</span> <span class="nf">approx_pi</span><span class="p">(</span><span class="n">error</span><span class="o">=</span><span class="mi">0</span><span class="o">.</span><span class="mo">001</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
    
    <span class="n">current_error</span><span class="o">=</span><span class="n">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">)</span>
    
    <span class="n">iterations</span><span class="o">=</span><span class="mi">1000</span>
    
    <span class="n">approx_A</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">probability</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="no">False</span><span class="p">)</span>
    <span class="n">approx_B</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">probability</span><span class="p">(</span><span class="n">iterations</span><span class="o">+</span><span class="n">step</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="no">False</span><span class="p">)</span> 
    
    <span class="n">current_error</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span><span class="n">approx_A</span><span class="o">-</span><span class="n">approx_B</span><span class="p">)</span>
    <span class="n">counter</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">while</span> <span class="n">error</span><span class="o">&lt;</span><span class="ss">current_error:
        
        </span><span class="n">approx_A</span> <span class="o">=</span> <span class="n">approx_B</span>
        <span class="n">approx_B</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">probability</span><span class="p">(</span><span class="n">iterations</span><span class="o">+</span><span class="n">step</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="no">False</span><span class="p">)</span> 
        
        <span class="n">iterations</span> <span class="o">=</span> <span class="n">iterations</span><span class="o">+</span><span class="n">step</span>
        
        <span class="n">current_error</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span><span class="n">approx_A</span><span class="o">-</span><span class="n">approx_B</span><span class="p">)</span>
        
        <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>
        
        <span class="k">if</span> <span class="n">counter</span><span class="o">&gt;</span><span class="mi">100000</span><span class="p">:</span>
            <span class="k">break</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">"With an accuracy of %f the value of pi is %f and it took %d iterations"</span><span class="o">%</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">approx_B</span><span class="p">,</span><span class="n">iterations</span><span class="p">))</span></code></pre></figure>

<p>With these functions we can compute any number of examples that we want.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">probability</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">display_graph</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>
<span class="n">probability</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">display_graph</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>
<span class="n">probability</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">display_graph</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>
<span class="n">probability</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">display_graph</span><span class="o">=</span><span class="no">True</span><span class="p">)</span></code></pre></figure>

<center>
<img src="/assets/img/A_Monte_Carlo_simulation_to_find_Pi_files/A_Monte_Carlo_simulation_to_find_Pi_36_0.png" alt="" /> 
</center>

<div class="highlighter-rouge"><pre class="highlight"><code>The probability of hitting the circle with 10 iterations is 0.800 
</code></pre>
</div>

<center>
<img src="/assets/img/A_Monte_Carlo_simulation_to_find_Pi_files/A_Monte_Carlo_simulation_to_find_Pi_36_2.png" alt="" /> 
</center>

<div class="highlighter-rouge"><pre class="highlight"><code>The probability of hitting the circle with 100 iterations is 0.730 
</code></pre>
</div>

<center>
<img src="/assets/img/A_Monte_Carlo_simulation_to_find_Pi_files/A_Monte_Carlo_simulation_to_find_Pi_36_4.png" alt="" /> 
</center>

<div class="highlighter-rouge"><pre class="highlight"><code>The probability of hitting the circle with 1000 iterations is 0.788 
</code></pre>
</div>

<center>
<img src="/assets/img/A_Monte_Carlo_simulation_to_find_Pi_files/A_Monte_Carlo_simulation_to_find_Pi_36_6.png" alt="" /> 
</center>

<div class="highlighter-rouge"><pre class="highlight"><code>The probability of hitting the circle with 10000 iterations is 0.781 

0.7809
</code></pre>
</div>

<p>And we can find an approximation of <script type="math/tex">\pi</script>.</p>

<p><strong>Warning:</strong> Be careful with the choices for error and step, it may take a long time to compute.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">approx_pi</span><span class="p">(</span><span class="n">error</span><span class="o">=</span><span class="mi">0</span><span class="o">.</span><span class="mo">001</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">approx_pi</span><span class="p">(</span><span class="n">error</span><span class="o">=</span><span class="mi">0</span><span class="o">.</span><span class="mo">0001</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">approx_pi</span><span class="p">(</span><span class="n">error</span><span class="o">=</span><span class="mi">0</span><span class="o">.</span><span class="mo">0001</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span></code></pre></figure>

<div class="highlighter-rouge"><pre class="highlight"><code>With an accuracy of 0.001000 the value of pi is 3.143000 and it took 12000 iterations
With an accuracy of 0.000100 the value of pi is 3.143786 and it took 131000 iterations
With an accuracy of 0.000100 the value of pi is 3.141735 and it took 3401000 iterations
</code></pre>
</div>

<p>Note that the values that this gives may still be outside the error value of <script type="math/tex">\pi</script> since we are not requiring many repetations to make sure the error is correct with respect .</p>

<p><strong>Exercise:</strong> Modify the code above to have more certantity on the value of <script type="math/tex">\pi</script>.</p>

<p><strong>Pros:</strong></p>

<ul>
  <li>Clear documentation.</li>
  <li>Graphical description.</li>
  <li>We can choose the number of throws.</li>
  <li>We can specify the preccision for pi</li>
  <li>Modular structure so it is easy to modify and adapt to other problems.</li>
</ul>

<h3 id="version-5">Version 5</h3>

<p>This version creates an animation so we can see what’s going on in real time. This is more advanced and requires a little bit more background.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">import</span> <span class="n">matplotlib</span><span class="p">.</span><span class="nf">animation</span> <span class="n">as</span> <span class="n">animation</span>
<span class="n">from</span> <span class="no">IPython</span><span class="p">.</span><span class="nf">display</span> <span class="n">import</span> <span class="no">HTML</span>
<span class="n">import</span> <span class="n">numpy</span> <span class="n">as</span> <span class="n">np</span>

<span class="c1"># New figure with white background</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">'white'</span><span class="p">)</span>

<span class="c1"># New axis over the whole figure, no frame and a 1:1 aspect ratio</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="nf">add_axes</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">frameon</span><span class="o">=</span><span class="no">False</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Place holder for darts position in and out</span>
<span class="no">P_in</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">empty</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="no">P_out</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">empty</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>


<span class="c1"># Scatter plots for in and out</span>
<span class="n">scat_in</span> <span class="o">=</span> <span class="n">ax</span><span class="p">.</span><span class="nf">scatter</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'x'</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'b'</span><span class="p">)</span>
<span class="n">scat_out</span> <span class="o">=</span> <span class="n">ax</span><span class="p">.</span><span class="nf">scatter</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">s</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'g'</span><span class="p">)</span>

<span class="c1"># Ensure limits are [0,2] and remove ticks</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="o">.</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="o">.</span><span class="mi">3</span><span class="p">),</span> <span class="n">ax</span><span class="p">.</span><span class="nf">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="o">.</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="o">.</span><span class="mi">3</span><span class="p">),</span> <span class="n">ax</span><span class="p">.</span><span class="nf">set_yticks</span><span class="p">([])</span>

<span class="c1"># Text to be displayed</span>
<span class="n">iteration_text</span> <span class="o">=</span> <span class="n">ax</span><span class="p">.</span><span class="nf">text</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">0</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="mo">02</span><span class="p">,</span> <span class="s1">'Iteration: 0 '</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="p">.</span><span class="nf">transAxes</span><span class="p">)</span>
<span class="n">probability_text</span> <span class="o">=</span> <span class="n">ax</span><span class="p">.</span><span class="nf">text</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mo">02</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="mo">02</span><span class="p">,</span> <span class="s1">'probability: 0.000'</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="p">.</span><span class="nf">transAxes</span><span class="p">)</span>
<span class="n">pi_approx_text</span><span class="o">=</span> <span class="n">ax</span><span class="p">.</span><span class="nf">text</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mo">02</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="mo">07</span><span class="p">,</span> <span class="s1">'$$\pi$$ approx: 0.000'</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="p">.</span><span class="nf">transAxes</span><span class="p">)</span>


<span class="c1"># Adds target to drawing.</span>
<span class="n">circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="no">Circle</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'r'</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">add_artist</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>

<span class="n">lines</span> <span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">'black'</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    
    <span class="c1">#Calls the placeholders</span>
    <span class="n">global</span> <span class="no">P_in</span><span class="p">,</span> <span class="no">P_out</span>

    <span class="c1"># Create a dart</span>
    <span class="kp">new</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">random</span><span class="p">.</span><span class="nf">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
        
    <span class="c1">#Check if the dart is inside the circle</span>
    <span class="k">if</span> <span class="n">np</span><span class="p">.</span><span class="nf">linalg</span><span class="p">.</span><span class="nf">norm</span><span class="p">(</span><span class="kp">new</span><span class="o">-</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]]))</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="no">P_in</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">concatenate</span><span class="p">((</span><span class="no">P_in</span><span class="p">,</span><span class="kp">new</span><span class="p">))</span>
    <span class="ss">else:
        </span><span class="no">P_out</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">concatenate</span><span class="p">((</span><span class="no">P_out</span><span class="p">,</span><span class="kp">new</span><span class="p">))</span>
    
    <span class="c1"># Place the points in the graph</span>
    <span class="n">scat_in</span><span class="p">.</span><span class="nf">set_offsets</span><span class="p">(</span><span class="no">P_in</span><span class="p">)</span>
    <span class="n">scat_out</span><span class="p">.</span><span class="nf">set_offsets</span><span class="p">(</span><span class="no">P_out</span><span class="p">)</span>
    
    <span class="c1">#Shows the current iteration</span>
    <span class="n">iteration_text</span><span class="p">.</span><span class="nf">set_text</span><span class="p">(</span><span class="s1">'Iteration: %d '</span><span class="o">%</span><span class="n">frame</span><span class="p">)</span>
    
    <span class="c1">#Every 50 iterations if shows the probability and approx of Pi</span>
    <span class="k">if</span> <span class="n">frame</span><span class="o">%</span><span class="mi">50</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">probability</span><span class="o">=</span><span class="n">len</span><span class="p">(</span><span class="no">P_in</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="no">P_in</span><span class="p">)</span><span class="o">+</span><span class="n">len</span><span class="p">(</span><span class="no">P_out</span><span class="p">))</span>
        <span class="n">pi_approx</span><span class="o">=</span><span class="mi">4</span><span class="o">*</span><span class="n">probability</span>
    
        <span class="n">probability_text</span><span class="p">.</span><span class="nf">set_text</span><span class="p">(</span><span class="s1">'probability: %.3f'</span><span class="o">%</span><span class="n">probability</span> <span class="p">)</span>
        <span class="n">pi_approx_text</span><span class="p">.</span><span class="nf">set_text</span><span class="p">(</span><span class="s1">'$$\pi$$ approx: %.3f'</span><span class="o">%</span><span class="n">pi_approx</span><span class="p">)</span>
    
    <span class="c1"># Return the modified object</span>
    <span class="k">return</span> <span class="n">scat_in</span><span class="p">,</span> <span class="n">scat_out</span><span class="p">,</span><span class="n">iteration_text</span><span class="p">,</span> <span class="n">probability_text</span><span class="p">,</span><span class="n">pi_approx_text</span><span class="p">.</span><span class="nf">set_text</span>

<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="no">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">1001</span><span class="p">)</span>

<span class="c1">#The following line is optional, it saves the video animation as a gif file.</span>
<span class="c1">#ani.save('darts.gif', writer='imagemagick', fps=30, dpi=40)</span>


<span class="no">HTML</span><span class="p">(</span><span class="n">ani</span><span class="p">.</span><span class="nf">to_html5_video</span><span class="p">())</span></code></pre></figure>

<center>
<img src="/assets/img/A_Monte_Carlo_simulation_to_find_Pi_files/darts.gif" alt="" /> 
</center>

<p>You can see some other example <a href="https://pythonprogramming.net/monte-carlo-simulator-python/">here</a>, you can also find a nice introduction to plotting in Python <a href="https://www.labri.fr/perso/nrougier/teaching/matplotlib/#text">here</a>.</p>


  <!-- POST NAVIGATION -->
  <div class="postNav clearfix">
     
      <a class="prev" href="/blog/Images_nn_and_tf_6/"><span>&laquo;&nbsp;NN for image reccognition - Convolutional Network</span>
      
    </a>
      
     
  </div>
</div>

      	</div>
      	
      	


	</div><!-- end .content -->


   <div class="footer">
   <div class="container">
      <p class="copy">&copy; 2017 <a href="https://scy1505.github.io">Felipe Pérez.</a> Powered by <a href="http://jekyllrb.com">Jekyll</a></p>

      <div class="footer-links"> 
         <ul class="noList"> 
            
            <li><a href="https://www.facebook.com/juan1505">
                  <svg id="facebook-square" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M82.667,1H17.335C8.351,1,1,8.351,1,17.336v65.329c0,8.99,7.351,16.335,16.334,16.335h65.332 C91.652,99.001,99,91.655,99,82.665V17.337C99,8.353,91.652,1.001,82.667,1L82.667,1z M84.318,50H68.375v42.875H50V50h-8.855V35.973 H50v-9.11c0-12.378,5.339-19.739,19.894-19.739h16.772V22.3H72.967c-4.066-0.007-4.57,2.12-4.57,6.078l-0.023,7.594H86.75 l-2.431,14.027V50z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://twitter.com/jperezvallejo">
                  <svg id="twitter" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M99.001,19.428c-3.606,1.608-7.48,2.695-11.547,3.184c4.15-2.503,7.338-6.466,8.841-11.189 c-3.885,2.318-8.187,4-12.768,4.908c-3.667-3.931-8.893-6.387-14.676-6.387c-11.104,0-20.107,9.054-20.107,20.223 c0,1.585,0.177,3.128,0.52,4.609c-16.71-0.845-31.525-8.895-41.442-21.131C6.092,16.633,5.1,20.107,5.1,23.813 c0,7.017,3.55,13.208,8.945,16.834c-3.296-0.104-6.397-1.014-9.106-2.529c-0.002,0.085-0.002,0.17-0.002,0.255 c0,9.799,6.931,17.972,16.129,19.831c-1.688,0.463-3.463,0.71-5.297,0.71c-1.296,0-2.555-0.127-3.783-0.363 c2.559,8.034,9.984,13.882,18.782,14.045c-6.881,5.424-15.551,8.657-24.971,8.657c-1.623,0-3.223-0.096-4.796-0.282 c8.898,5.738,19.467,9.087,30.82,9.087c36.982,0,57.206-30.817,57.206-57.543c0-0.877-0.02-1.748-0.059-2.617 C92.896,27.045,96.305,23.482,99.001,19.428z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://github.com/scy1505">
                  <svg id="github" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M79.099,79.099 c-3.782,3.782-8.184,6.75-13.083,8.823c-1.245,0.526-2.509,0.989-3.79,1.387v-7.344c0-3.86-1.324-6.699-3.972-8.517 c1.659-0.16,3.182-0.383,4.57-0.67c1.388-0.287,2.855-0.702,4.402-1.245c1.547-0.543,2.935-1.189,4.163-1.938 c1.228-0.75,2.409-1.723,3.541-2.919s2.082-2.552,2.847-4.067s1.372-3.334,1.818-5.455c0.446-2.121,0.67-4.458,0.67-7.01 c0-4.945-1.611-9.155-4.833-12.633c1.467-3.828,1.308-7.991-0.478-12.489l-1.197-0.143c-0.829-0.096-2.321,0.255-4.474,1.053 c-2.153,0.798-4.57,2.105-7.249,3.924c-3.797-1.053-7.736-1.579-11.82-1.579c-4.115,0-8.039,0.526-11.772,1.579 c-1.69-1.149-3.294-2.097-4.809-2.847c-1.515-0.75-2.727-1.26-3.637-1.532c-0.909-0.271-1.754-0.439-2.536-0.503 c-0.782-0.064-1.284-0.079-1.507-0.048c-0.223,0.031-0.383,0.064-0.478,0.096c-1.787,4.53-1.946,8.694-0.478,12.489 c-3.222,3.477-4.833,7.688-4.833,12.633c0,2.552,0.223,4.889,0.67,7.01c0.447,2.121,1.053,3.94,1.818,5.455 c0.765,1.515,1.715,2.871,2.847,4.067s2.313,2.169,3.541,2.919c1.228,0.751,2.616,1.396,4.163,1.938 c1.547,0.543,3.014,0.957,4.402,1.245c1.388,0.287,2.911,0.511,4.57,0.67c-2.616,1.787-3.924,4.626-3.924,8.517v7.487 c-1.445-0.43-2.869-0.938-4.268-1.53c-4.899-2.073-9.301-5.041-13.083-8.823c-3.782-3.782-6.75-8.184-8.823-13.083 C9.934,60.948,8.847,55.56,8.847,50s1.087-10.948,3.231-16.016c2.073-4.899,5.041-9.301,8.823-13.083s8.184-6.75,13.083-8.823 C39.052,9.934,44.44,8.847,50,8.847s10.948,1.087,16.016,3.231c4.9,2.073,9.301,5.041,13.083,8.823 c3.782,3.782,6.75,8.184,8.823,13.083c2.143,5.069,3.23,10.457,3.23,16.016s-1.087,10.948-3.231,16.016 C85.848,70.915,82.88,75.317,79.099,79.099L79.099,79.099z"></path>
                  </svg>
            </a></li>
             
            
            <li><a href="mailto:juan1505@gmail.com">
                  <svg id="mail" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M25.5,25.5h49 c0.874,0,1.723,0.188,2.502,0.542L50,57.544L22.998,26.041C23.777,25.687,24.626,25.499,25.5,25.5L25.5,25.5z M19.375,68.375v-36.75 c0-0.128,0.005-0.256,0.014-0.383l17.96,20.953L19.587,69.958C19.448,69.447,19.376,68.916,19.375,68.375L19.375,68.375z M74.5,74.5 h-49c-0.541,0-1.072-0.073-1.583-0.212l17.429-17.429L50,66.956l8.653-10.096l17.429,17.429C75.572,74.427,75.041,74.5,74.5,74.5 L74.5,74.5z M80.625,68.375c0,0.541-0.073,1.072-0.211,1.583L62.652,52.195l17.96-20.953c0.008,0.127,0.014,0.255,0.014,0.383 L80.625,68.375L80.625,68.375z"></path>
                  </svg>
            </a></li>
            
         </ul>
      </div>
   </div>
</div><!-- end .footer -->


  
   <!-- Add jQuery and other scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src=""><\/script>')</script>
<script src="/assets/js/dropcap.min.js"></script>
<script src="/assets/js/responsive-nav.min.js"></script>
<script src="/assets/js/scripts.js"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>



</body>

</html>
